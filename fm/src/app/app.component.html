<!-- Login page -->
<div *ngIf="!showLayout">
  <app-login (loginSuccess)="handleLoginSuccess()"></app-login>
</div>

<!-- Main layout -->
<div *ngIf="showLayout" class="app-container">

  <!-- Sidebar -->
  <div class="sidebar">
    <div class="header-logo" (click)="navigateTo('home', 'new-home')">
      <img src="../assets/images/TVM Infotech Logo.jpg" alt="Logo" />
    </div>

    <div class="menu">
      <div class="item" *ngFor="let item of menuItems">
        <div class="link"
             (click)="navigateTo(item.link, item.path)"
             [ngClass]="{ 'active': activeLink === item.link }">
          <i [class]="item.icon"></i>
          <span class="title">{{ item.title }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Right section -->
  <div class="right-section">

    <!-- Top Header -->
    <div class="top-header">
      <div class="company-title">TVM Infotech Private Limited</div>

<div class="avatar-section">
  <div class="avatar-circle" (click)="toggleDropdown($event)">
    <span class="initials">{{ avatarInitials }}</span>
  </div>
  <span class="user-name" (click)="toggleDropdown($event)">{{ username }}</span>

  <!-- Dropdown -->
  <div class="dropdown-menu" *ngIf="dropdownOpen">
    <p (click)="goToProfile($event)">My Profile</p>
    <p (click)="logoutClick($event)">Logout</p>
  </div>
</div>


    </div>

    <!-- Backdrop & Logout Modal -->
    <div class="backdrop" *ngIf="confirmation"></div>

    <div class="logout-response" *ngIf="confirmation">
      <h4>Are you sure you want to log out?</h4>
      <div class="btn-container">
        <button class="ok-btn" (click)="ok()">Ok</button>
        <button class="cancel-btn" (click)="Cancel()">Cancel</button>
      </div>
    </div>

    <!-- Main content -->
    <div class="main-content">
      <router-outlet></router-outlet>
    </div>

  </div>
</div>
