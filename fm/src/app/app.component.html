<!-- LOGIN PAGE -->
<div *ngIf="!showLayout">
  <app-login (loginSuccess)="handleLoginSuccess()"></app-login>
</div>

<!-- MAIN LAYOUT -->
<div *ngIf="showLayout" class="app-container">

  <!-- Sidebar -->
  <div class="sidebar">
    <div class="header-logo" (click)="navigateTo('home', 'new-Home')">
      <img src="../assets/images/TVM Infotech Logo.jpg" alt="Logo" />
    </div>

    <div class="menu">
      <div class="item" *ngFor="let item of menuItems">
        <div class="link"
             (click)="navigateTo(item.link, item.path)"
             [ngClass]="{ 'active': activeLink === item.link }">

          <i [class]="item.icon"></i>
          <span class="title">{{ item.title }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- RIGHT SECTION -->
  <div class="right-section">

    <!-- Top Header -->
    <div class="top-header">
      <div class="company-title">TVM Infotech Private Limited</div>

      <div class="avatar-section" (click)="toggleDropdown()">
        <div class="avatar-circle">
          <span class="initials">{{ userInitial }}</span>
        </div>
        <span class="user-name">{{ userName }}</span>

        <!-- Dropdown -->
        <div class="dropdown-menu" *ngIf="dropdownOpen">
          <p (click)="navigateToProfile()">My Profile</p>
          <p (click)="logout()">Logout</p>
        </div>
      </div>
    </div>

    <!-- Main content -->
    <div class="main-content">
      <router-outlet></router-outlet>
    </div>

  </div>
</div>
