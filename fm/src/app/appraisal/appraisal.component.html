<div class="container-fluid">
  <h2>Appraisal Form</h2>
  <form [formGroup]="appraisalForm" (ngSubmit)="onSubmit()">
    <h4>Employee Information</h4>

    <label for="name">Name:</label>
    <input id="name" formControlName="employeeName" readonly/>
    <div *ngIf="appraisalForm.get('employeeName')?.invalid && appraisalForm.get('employeeName')?.touched">
      <small class="error">Name is required.</small>
    </div>

    <label for="employeeId">Employee ID:</label>
    <input id="employeeId" formControlName="employeeId" readonly/>
    <div *ngIf="appraisalForm.get('employeeId')?.invalid && appraisalForm.get('employeeId')?.touched">
      <small class="error">Employee ID is required.</small>
    </div>

    <label for="jobTitle">Job Title:</label>
    <input id="jobTitle" formControlName="jobTitle" />
    <div *ngIf="appraisalForm.get('jobTitle')?.invalid && appraisalForm.get('jobTitle')?.touched">
      <small class="error">Job Title is required.</small>
    </div>

    <label for="department">Department:</label>
    <input id="department" formControlName="department" />
    <div *ngIf="appraisalForm.get('department')?.invalid && appraisalForm.get('department')?.touched">
      <small class="error">Department is required.</small>
    </div>

    <label for="managerName">Manager's Name:</label>
    <input id="managerName" formControlName="managerName" />
    <div *ngIf="appraisalForm.get('managerName')?.invalid && appraisalForm.get('managerName')?.touched">
      <small class="error">Manager's Name is required.</small>
    </div>

    <label for="appraisalPeriod">Appraisal Period:</label>
    <input id="appraisalPeriod" formControlName="appraisalPeriod" />
    <div *ngIf="appraisalForm.get('appraisalPeriod')?.invalid && appraisalForm.get('appraisalPeriod')?.touched">
      <small class="error">Appraisal Period is required.</small>
    </div>

    <h4>Performance Goals</h4>
    <div formArrayName="performanceGoals">
      <div *ngFor="let goal of performanceGoals.controls; let i = index" [formGroupName]="i">
        <label for="goal-{{ i }}">Goal:</label>
        <input id="goal-{{ i }}" formControlName="goal" />
        <div *ngIf="goal.get('goal')?.invalid && goal.get('goal')?.touched">
          <small class="error">Goal is required.</small>
        </div>

        <label for="goalType-{{ i }}">Goal Type:</label>
        <input id="goalType-{{ i }}" formControlName="goalType" />
        <div *ngIf="goal.get('goalType')?.invalid && goal.get('goalType')?.touched">
          <small class="error">Goal Type is required.</small>
        </div>

        <label for="completionStatus-{{ i }}">Completion Status:</label>
        <input id="completionStatus-{{ i }}" formControlName="completionStatus" />
        <div *ngIf="goal.get('completionStatus')?.invalid && goal.get('completionStatus')?.touched">
          <small class="error">Completion Status is required.</small>
        </div>

        <label for="comments-{{ i }}">Comments:</label>
        <input id="comments-{{ i }}" formControlName="comments" />
      </div>
    </div>
    <button type="button" (click)="addPerformanceGoal()">Add Goal</button>

    <h4>Self-Assessment</h4>
    <div formGroupName="selfAssessment">
      <label for="strengths">Strengths:</label>
      <textarea id="strengths" formControlName="strengths"></textarea>
      <label for="accomplishments">Accomplishments:</label>
      <textarea id="accomplishments" formControlName="accomplishments"></textarea>
      <label for="challenges">Challenges:</label>
      <textarea id="challenges" formControlName="challenges"></textarea>
      <label for="areasForImprovement">Areas for Improvement:</label>
      <textarea id="areasForImprovement" formControlName="areasForImprovement"></textarea>
      <label for="overallPerformance">Overall Performance:</label>
      <textarea id="overallPerformance" formControlName="overallPerformance"></textarea>
    </div>

    <h4>Manager Assessment</h4>
    <div formGroupName="managerAssessment">
      <label for="jobKnowledge">Job Knowledge:</label>
      <select id="jobKnowledge" formControlName="jobKnowledge">
        <option value="">Select an option</option>
        <option value="Bad">Bad</option>
        <option value="Average">Average</option>
        <option value="Good">Good</option>
        <option value="Excellence">Excellence</option>
      </select>
      <div *ngIf="appraisalForm.get('managerAssessment.jobKnowledge')?.invalid && appraisalForm.get('managerAssessment.jobKnowledge')?.touched">
        <small class="error">Job Knowledge is required.</small>
      </div>
    
      <label for="qualityOfWork">Quality of Work:</label>
      <select id="qualityOfWork" formControlName="qualityOfWork">
        <option value="">Select an option</option>
        <option value="Bad">Bad</option>
        <option value="Average">Average</option>
        <option value="Good">Good</option>
        <option value="Excellence">Excellence</option>
      </select>
      <div *ngIf="appraisalForm.get('managerAssessment.qualityOfWork')?.invalid && appraisalForm.get('managerAssessment.qualityOfWork')?.touched">
        <small class="error">Quality of Work is required.</small>
      </div>
    
      <label for="productivity">Productivity:</label>
      <select id="productivity" formControlName="productivity">
        <option value="">Select an option</option>
        <option value="Bad">Bad</option>
        <option value="Average">Average</option>
        <option value="Good">Good</option>
        <option value="Excellence">Excellence</option>
      </select>
      <div *ngIf="appraisalForm.get('managerAssessment.productivity')?.invalid && appraisalForm.get('managerAssessment.productivity')?.touched">
        <small class="error">Productivity is required.</small>
      </div>
    
      <label for="communicationSkills">Communication Skills:</label>
      <select id="communicationSkills" formControlName="communicationSkills">
        <option value="">Select an option</option>
        <option value="Bad">Bad</option>
        <option value="Average">Average</option>
        <option value="Good">Good</option>
        <option value="Excellence">Excellence</option>
      </select>
      <div *ngIf="appraisalForm.get('managerAssessment.communicationSkills')?.invalid && appraisalForm.get('managerAssessment.communicationSkills')?.touched">
        <small class="error">Communication Skills are required.</small>
      </div>
    
      <label for="problemSolvingSkills">Problem Solving Skills:</label>
      <select id="problemSolvingSkills" formControlName="problemSolvingSkills">
        <option value="">Select an option</option>
        <option value="Bad">Bad</option>
        <option value="Average">Average</option>
        <option value="Good">Good</option>
        <option value="Excellence">Excellence</option>
      </select>
      <div *ngIf="appraisalForm.get('managerAssessment.problemSolvingSkills')?.invalid && appraisalForm.get('managerAssessment.problemSolvingSkills')?.touched">
        <small class="error">Problem Solving Skills are required.</small>
      </div>
    
      <label for="teamwork">Teamwork:</label>
      <select id="teamwork" formControlName="teamwork">
        <option value="">Select an option</option>
        <option value="Bad">Bad</option>
        <option value="Average">Average</option>
        <option value="Good">Good</option>
        <option value="Excellence">Excellence</option>
      </select>
      <div *ngIf="appraisalForm.get('managerAssessment.teamwork')?.invalid && appraisalForm.get('managerAssessment.teamwork')?.touched">
        <small class="error">Teamwork is required.</small>
      </div>
    
      <label for="initiative">Initiative:</label>
      <select id="initiative" formControlName="initiative">
        <option value="">Select an option</option>
        <option value="Bad">Bad</option>
        <option value="Average">Average</option>
        <option value="Good">Good</option>
        <option value="Excellence">Excellence</option>
      </select>
      <div *ngIf="appraisalForm.get('managerAssessment.initiative')?.invalid && appraisalForm.get('managerAssessment.initiative')?.touched">
        <small class="error">Initiative is required.</small>
      </div>
    
      <label for="overallRating">Overall Rating:</label>
      <select id="overallRating" formControlName="overallRating">
        <option value="">Select an option</option>
        <option value="Bad">Bad</option>
        <option value="Average">Average</option>
        <option value="Good">Good</option>
        <option value="Excellence">Excellence</option>
      </select>
      <div *ngIf="appraisalForm.get('managerAssessment.overallRating')?.invalid && appraisalForm.get('managerAssessment.overallRating')?.touched">
        <small class="error">Overall Rating is required.</small>
      </div>
    </div>
    

    <h4>Final Steps</h4>
    <label for="finalPerformanceRating">Final Performance Rating:</label>
    <select id="finalPerformanceRating" formControlName="finalPerformanceRating">
      <option value="">Select an option</option>
      <option value="Bad">Bad</option>
      <option value="Average">Average</option>
      <option value="Good">Good</option>
      <option value="Excellence">Excellence</option>
    </select>

    <label for="managerSignature">Manager Signature:</label>
    <input id="managerSignature" formControlName="managerSignature" />

    <label for="date">Date:</label>
    <input type="date" id="date" formControlName="date" />
    <div *ngIf="appraisalForm.get('date')?.invalid && appraisalForm.get('date')?.touched">
      <small class="error">Date is required.</small>
    </div>

    <button type="submit">Submit</button>
  </form>
</div>

<!-- //[disabled]="appraisalForm.invalid" -->