<div class="container-fluid table-container">
  <h2> Leave Request </h2>
  <div class="d-flex justify-content-between align-items-center mb-3">
    <div>
      <button class="btn btn-primary me-2" (click)="applyLeave()">Add Request</button>
      <button class="btn btn-danger" (click)="deleteSelectedRequests()">Delete Selected</button>
    </div>
  </div>

  <div class="table-responsive">
    <table class="table table-bordered table-striped">

      <thead>
        <tr>
          <th><input type="checkbox" (change)="selectAll($event)" /></th>
          <th>Leave Type</th>
          <th>Leave Period</th>
          <th>Days</th>
          <th>Reason</th>
          <th>Approved By</th>
          <th>Status</th>
        </tr>
      </thead>

      <tbody>

        <!-- No Data Row -->
        <tr *ngIf="filteredRequests.length === 0">
          <td colspan="7" class="text-center text-muted py-3">
            No Data Found
          </td>
        </tr>

        <!-- Leave rows -->
        <tr *ngFor="let req of filteredRequests">
          <td><input type="checkbox" [(ngModel)]="req.selected" (change)="onRowSelect($event, req)" /></td>
          <td>{{ req.leaveType }}</td>
          <td>{{ req.leavePeriod }}</td>
          <td>{{ req.totalDays }}</td>
          <td>{{ req.reasonforLeave }}</td>
          <td>{{ req.approvedBy }}</td>

          <td>
            <span class="badge"
              [ngClass]="{
                'bg-warning': req.status === 'Pending',
                'bg-success': req.status === 'Approved',
                'bg-danger': req.status === 'Rejected'
              }"
            >
              {{ req.status }}
            </span>
          </td>

        </tr>

      </tbody>
    </table>
  </div>

</div>
